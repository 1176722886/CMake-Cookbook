# 第4章 创建和运行测试

在本章中，我们将介绍以下内容：

* 创建一个简单的单元测试
* 使用Catch2库进行单元测试
* 使用Google测试库进行单元测试
* 使用Boost测试进行单元测试
* 使用动态分析来检测内存缺陷
* 预期测试失败
* 使用超时测试运行时间过长的测试
* 并行测试
* 运行测试子集
* 使用测试设备

测试代码开发工具的核心组件。通过使用单元测试和集成测试执行自动化测试，不仅可以帮助开发人员尽早回归检测功能，还可以作为开发人员融入项目的入口。它可以帮助新开发人员向代码项目提交更改，并确保保留了预期的功能。对于代码的用户，在验证安装是否保留了代码的功能时，自动化测试必不可少。从一开始对单元、模块或库进行测试，可以使用一种纯的、函数式的风格，将全局变量和全局状态最小化并本地化，可让开发者的编程走向更模块化、更简单的风格。

本章中，我们将演示如何使用流行的测试库和框架，将测试集成到CMake构建结构中，并谨记以下目标：

* 让用户、开发人员和持续集成服务更容易地运行测试集。应该像使用`Unix Makefile`时，键入`make test`一样简单。
* 通过最小化测试时间，从而高效地运行测试，最大限度地提高运行测试的概率——理想情况下，每次代码修改都是如此。

